<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Babylon Summary">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">**Babylon&#x27;s Solutions** | babylonchain</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://cahyosubroto.github.io/sample-docs/Babylon Summary"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="**Babylon&#x27;s Solutions** | babylonchain"><meta data-rh="true" name="description" content="Underlying Security Issues within Proof-of-Stake"><meta data-rh="true" property="og:description" content="Underlying Security Issues within Proof-of-Stake"><link data-rh="true" rel="icon" href="/sample-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://cahyosubroto.github.io/sample-docs/Babylon Summary"><link data-rh="true" rel="alternate" href="https://cahyosubroto.github.io/sample-docs/Babylon Summary" hreflang="en"><link data-rh="true" rel="alternate" href="https://cahyosubroto.github.io/sample-docs/Babylon Summary" hreflang="x-default"><link rel="stylesheet" href="/sample-docs/assets/css/styles.6d04f6ed.css">
<link rel="preload" href="/sample-docs/assets/js/runtime~main.a25e38d3.js" as="script">
<link rel="preload" href="/sample-docs/assets/js/main.c5aa8257.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/sample-docs/"><div class="navbar__logo"><img src="https://img1.wsimg.com/isteam/ip/6f380b15-78c1-4a0d-9bc4-3e2fa49378cf/logo.jpg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="https://img1.wsimg.com/isteam/ip/6f380b15-78c1-4a0d-9bc4-3e2fa49378cf/logo.jpg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/sample-docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/cahyosubroto" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sample-docs/">What is Babylon?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/sample-docs/Babylon Summary">Babylon&#x27;s solutions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sample-docs/chainbuilding">Building a Chain using Babylon</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/sample-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Babylon&#x27;s solutions</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1><strong>Babylon&#x27;s Solutions</strong></h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="underlying-security-issues-within-proof-of-stake">Underlying Security Issues within Proof-of-Stake<a class="hash-link" href="#underlying-security-issues-within-proof-of-stake" title="Direct link to heading">â€‹</a></h2><p>Proof-of-stake (POS) is created as an alternative to Proof-of-work (POW), the original consensus mechanism used to validate a blockchain and add new blocks. Proof-of-stake uses a mechanism to where the cryptocurrency owners validate block transactions based on the number of staked coins. </p><p>In POS, one voter can only vote for a maximum of one
block at height two. For instance, one voter can only vote for one
candidate when choosing a leader in an election.  For a block to be confirmed, it must receive 2/3 of the votes. A
supermajority vote is 2/3, while a majority vote is 51%. Therefore, if
2/3 of the population votes, we declare that a block is confirmed.</p><p><img loading="lazy" src="https://github.com/cahyosubroto/sample-docs/blob/main/image/image5.png?raw=true" alt="Alt text" class="img_ev3q"></p><p>However, POS, by design, has security vulnerability if there are two forks and both blocks (seen in the figure above,
circled) have 2/3 of the votes. It will generate the total votes to be greater than 100%, or 133%.
It indicates that at least 33% of voters cast two votes, a practice known as a <strong>Double Signature Attack</strong>. This
goes against the protocol, which is not what it is intended to be.</p><p>The typical POS blockchain punish the double signature attackers by <strong>slashing</strong> them from
the chain. The attacker\&#x27;s tokens and authority will be removed/slashed
from the blockchain. If their double signature attacks are detected, it
removes the user\&#x27;s tokens from the blockchain and their voting power in
the Proof of Stake system. However, the attackers may find a way to prevent the slashing and make
slashing impossible for the chain. A few attacks are slashable, but a
few remain unslashable due to the attacker exploiting the inherent,
fundamental security issue of Proof-of-Stake.</p><p>The attacker can resign from the network by <strong>unbonding</strong> to lose the
membership of the voting committee intentionally. In turn, their staked
tokens will be returned along with their public key, private key, and
other data, which they can trade freely now.</p><p><img loading="lazy" src="https://github.com/cahyosubroto/sample-docs/blob/main/image/image8.png?raw=true" alt="Alt text" class="img_ev3q"></p><p>When a voter withdraws its staked tokens, the voting committee will be
replaced by new members, and the old voter can now become an attacker by
creating a similar fork using the same keys. Upon observation, both
chains will look similar. Now here comes the issue, since the voter has
already withdrawn their stakes from the original chain, they can&#x27;t be
slashed.</p><p>The voters can also sell their valid public keys; even after the sale,
if they use their old keys. If the voter unlocks their token at block
100 on height 2, as shown in the image above, they will have voting
power because they are still voters with stacked tokens.</p><p>Imagine that this is done by 2/3 of the voters here who have resigned from
the chain. They can create a child block at height 2 and they can&#x27;t be
slashed. So, this is the fundamental security issue of POS chain systems
that cannot be resolved no matter how you modify the problem. Because
the foundation of a POS system is to let the user stake their tokens,
but people are surely entitled to resign and get their tokens back.</p><p>POS also have weak subjectivity vulnerability where it relies on the founding team or a cryptocurrency owners that staked the most coins to perform a check to detect any potential double signature attack on chain. This solution is a subjective solution and can create delays and potential human-error mistakes because people rely on human actors to tell them which fork to choose. There should be a better solution to check the chain objectively.</p><h1></h1><h1><strong>Babylon&#x27;s Solution:</strong></h1><p>The issues discussed above are what we aim to tackle. The attack
is only possible if people in the original chain have quit and there&#x27;s a
temporal delay between the original and forked chains. The solution to detect and prevent the attack is by providing a trustworthy timestamp. However, the timestamps in
a blockchain block are meaningless since anybody may insert arbitrary
timestamps, so on-chain timestamps cannot be trusted.</p><p>Our solution provides a trustworthy timestamp to indicate when this block was
produced. It  So, for this purpose, we use <strong>Bitcoin</strong> as the
<strong>timestamping</strong> service. We use Bitcoin because it is the most secure blockchain in the
world. In Bitcoin, a fork can never be longer than 6
deep. If the latest block height is 1000, you can be sure that blocks 0
to 994 will never be forked. Blocks 995, 996, and 997 may be forked, but
994 and older will not be forked.</p><p><img loading="lazy" src="https://github.com/cahyosubroto/sample-docs/blob/main/image/image3.png?raw=true" alt="Alt text" class="img_ev3q"></p><p>This means that the checkpoint of any chain that appears after the 6
blocks deep can be ignored. Suppose there are 6 blocks, as shown in the
image above, if we already see Block 6 there, we can safely say Block 2
is confirmed. Because to create another fork, you must be faster than
all existing miners to create the remaining blocks; this way, long-range
POS attacks can be avoided.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-direct-checkpointing-limitation">1. Direct Checkpointing Limitation<a class="hash-link" href="#1-direct-checkpointing-limitation" title="Direct link to heading">â€‹</a></h2><p>A POS chain can checkpoint its blocks to Bitcoin. But Bitcoin has a
restricted space and is pricey. It only allows 80 bytes of arbitrary
data per transaction. However, each checkpoint includes a 32-byte hash
of the block and a signature to prevent attacks. Now, the signatures are
large, and there are dozens or hundreds of votes that we need to
checkpoint. </p><p>It will take at least a few kilobytes, and you can\&#x27;t fit it
into a fair number of Bitcoin transactions. For 5000 bytes of data, we
will need at least 60 Bitcoin blocks to carry one checkpoint, which is
both pricey and abusive usage of Bitcoin, which is not welcomed.</p><p align="center"><img loading="lazy" src="https://github.com/cahyosubroto/sample-docs/blob/main/image/image1.png?raw=true" alt="drawing" width="600" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-our-solution">2. Our Solution<a class="hash-link" href="#2-our-solution" title="Direct link to heading">â€‹</a></h2><p align="center"><img loading="lazy" src="https://github.com/cahyosubroto/sample-docs/blob/main/image/image2.png?raw=true" alt="drawing" width="600" class="img_ev3q"></p><p>To solve this, we add Babylon in the middle. So the PoS chains will send
their checkpoints into Babylon, and inside the Babylon block, you will
see the checkpoints of the PoS chains. Then Babylon checkpoints its
blocks to bitcoin. All the transactions, or the Babylon transactions,
inside the Babylon blocks will have Bitcoin timestamps.</p><p><img loading="lazy" src="https://github.com/cahyosubroto/sample-docs/blob/main/image/image9.png?raw=true" alt="Alt text" class="img_ev3q"></p><p><strong>Babylon transactions</strong> are the checkpoints of the PoS chains. So the
PoS chains will indirectly get Bitcoin timestamps by using Babylon.
Babylon must protect itself since it is both a cosmic chain and a PoS
chain. In front of BTC, Babylon serves as a load balancer, accepting the
shared massive volume of data from the PoS chain.</p><p><img loading="lazy" src="https://github.com/cahyosubroto/sample-docs/blob/main/image/image7.png?raw=true" alt="Alt text" class="img_ev3q"></p><p>Babylon send checkpoints to Bitcoin and accepts checkpoints from many
PoS chains. In the future, we want to allow the general public to
checkpoint their arbitrary data to Babylon. In the image above, between
the orange and blue, it\&#x27;s intuitive. The blue block just sends your
checkpoints as Babylon transactions.</p><br><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-babylon-architecture">3. Babylon Architecture<a class="hash-link" href="#3-babylon-architecture" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-babylon-bls-signature-algorithm">3.1 Babylon BLS Signature Algorithm<a class="hash-link" href="#31-babylon-bls-signature-algorithm" title="Direct link to heading">â€‹</a></h3><p>We do not use just hashes for our POS blocks, we also use signatures
so that not everyone can send in hashes and claim it as a Babylon
checkpoint. As the signatures are large, we do not use traditional
signature algorithms, we use BLS. The BLS signature can be aggregated
and used to verify the merged signature.</p><p>For example, two signatures of 40 bytes each can be merged and formed
into one signature of 40 bytes. Similarly, the public keys can also be
merged into and used for verification. That means no matter how many
votes Babylon received, it can be aggregated into just one signature,
which is only about 40 bytes.</p><p align="center"><img loading="lazy" src="https://github.com/cahyosubroto/sample-docs/blob/main/image/image10.png?raw=true" alt="drawing" width="600" class="img_ev3q"></p><p>From the Babylon chain to BTC, we send a <strong>BLS multiSig</strong> and a
bitcoin transaction called an <strong>op_return</strong> transaction that allows
you to carry some arbitrary data. The size of the checkpoint that
Babylon sent to BTC is only about 150 bytes, which two Bitcoin
transactions can carry. Each Bitcoin transaction carries 80 bytes, and
two transactions can carry 150 bytes for a checkpoint.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-quorum-certificates-qc">3.2 Quorum Certificates (QC)<a class="hash-link" href="#32-quorum-certificates-qc" title="Direct link to heading">â€‹</a></h3><p>Babylon use the BLS signature algorithm to generate <strong>Quorum
Certificates (QC)</strong>. Technically, a quorum is a threshold number of
votes needed to certify a transaction as approved. A Quorum
Certificate means the quorum community reaches a consensus and creates
the vote, which then becomes certified and has been approved.</p><p>The Quorum Certificate in Babylon is very small. It&#x27;s only about 40
bytes because we use the BLS signature algorithm to aggregate all the
forks into one application code. This small amount of QC is the way to
solve the problem where the checkpoint is too large.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="33-babylon-vigilante-roles">3.3 Babylon Vigilante Roles<a class="hash-link" href="#33-babylon-vigilante-roles" title="Direct link to heading">â€‹</a></h3><p>Vigilante means someone who voluntarily contribute to protect babylon.  Babylon has three vigilante roles who voluntarily contribute to the security of Babylon by uploading, downloading, and
monitoring work. Babylon will reward them through Babylon tokens.</p><ul><li><strong>Vigilante Submitter:</strong> who submits Babylon checkpoints to BTC.</li><li><strong>Vigilante Reporter:</strong> who scans the BTC and then reports back to
the Babylon chain.</li><li><strong>Vigilante Monitors:</strong> which compares the consistency between
Bitcoin and the Babylon chain.<br><br></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-key-design-features">4. Key Design Features<a class="hash-link" href="#4-key-design-features" title="Direct link to heading">â€‹</a></h2><p><img loading="lazy" src="https://github.com/cahyosubroto/sample-docs/blob/main/image/image4.png?raw=true" alt="Alt text" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="--bls-multisig">- BLS multiSig<a class="hash-link" href="#--bls-multisig" title="Direct link to heading">â€‹</a></h3><p>Our BLS multiSig reduces the checkpoint size which allows our users to use our solution to secure their chains.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="--epoched-validator-set-rotation">- Epoched validator set rotation<a class="hash-link" href="#--epoched-validator-set-rotation" title="Direct link to heading">â€‹</a></h3><p>In a standard PoS blockchain, you can subscribe as a staker to lock
your token and gain voting power at any time, and you can resign to
return anytime. Whenever someone does this, the people who can vote
change.</p><p><strong>For example</strong>, all the Babylon validators have locked half a million
Babylon tokens. When you join the party, you lock 1,000,000 Babylon
tokens in Babylon block 100. That means that in block 101, you will
instantly become a validator or voter with 1,000,000 votes.</p><p>You are not eligible to vote for Block 100, but you are eligible to
vote for Block 101 because at Block 100 you submitted a request. That
means that the validator set changes between 100 and 101.</p><p>We introduced a concept called <strong>\&quot;epoch\&quot;</strong>. Each epoch consists of,
for example, 500 Babylon blocks. Within these 500 Babylon blocks, the
validator set cannot change.</p><p>Let&#x27;s take the example of three validators. These validators make all
the decisions between blocks 1 to 499, any new validator is not
allowed to join their party, and none of them can leave it. All these
500 blocks are decided by those 3 validators. That means in order to
hold them accountable for any attacks, we don\&#x27;t have to checkpoint
every single block they have created; we only need to checkpoint the
last block. We only need to checkpoint once per hour and submit two
Bitcoin transactions.</p><p><strong><em>Why do we set the number in the order of hundreds? Why not make it
shorter than 100, or make it 1000, or 1 million?</em></strong></p><p>If it is too short, it will cost us more because we will send more
checkpoints to Bitcoin. A smaller number is expensive, but it will
provide our users with a better experience because, for every epoch,
we will send the checkpoint. The checkpoint interval of half an hour to an hour is a reasonable
choice. If it is less than that, we can&#x27;t afford it, and if it is too
long, then the users will need to wait too long.</p><blockquote><p>The more checkpoints we send, the earlier our users can get their
timestamps. If we send a timestamp every 5 minutes, our users will expect to receive a timestamp every five minutes. If we only send checkpoints every hour, our users will receive their timestamps once an hour.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="--on-chain-btc-oracles">- On-chain BTC oracles<a class="hash-link" href="#--on-chain-btc-oracles" title="Direct link to heading">â€‹</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="--no-change-to-tendermint">- No change to Tendermint<a class="hash-link" href="#--no-change-to-tendermint" title="Direct link to heading">â€‹</a></h3><br><h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-babylon-bbl-modules">5. Babylon (BBL) Modules<a class="hash-link" href="#5-babylon-bbl-modules" title="Direct link to heading">â€‹</a></h2><p>We have some modules to achieve all these features internally. We have
an epoching module inside the Babylon code base. No matter what language
you use to write the program, this program will consist of different
components and modules. They are wired into one program, and each module
corresponds to a thread or process within the program.</p><p><img loading="lazy" src="https://github.com/cahyosubroto/sample-docs/blob/main/image/image11.png?raw=true" alt="Alt text" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="51-epoching-module">5.1 Epoching Module<a class="hash-link" href="#51-epoching-module" title="Direct link to heading">â€‹</a></h3><p>The Babylon node is a binary executable; when you install it, you will
be running the Babylon node. The program has different threads inside,
and the epoching module is one of them.</p><p>This module does not allow the validator set to change within the 500
blocks. It will delay all the transactions that request to become
validators until the end of the epoch - these requests will not be
executed until the end of the epoch, so there&#x27;s no change within the
epoch.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="52-checkpointing-module">5.2 Checkpointing Module<a class="hash-link" href="#52-checkpointing-module" title="Direct link to heading">â€‹</a></h3><p>The checkpointing module creates checkpoints in Bitcoin and manages
their status, such as whether they are 6 deep enough, 10 deep, or 20
deep, and whether they are ready to be confirmed.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="53-op_return-oracle-module">5.3 OP_RETURN Oracle Module<a class="hash-link" href="#53-op_return-oracle-module" title="Direct link to heading">â€‹</a></h3><p>The OP_RETURN Oracle is called an operator because the BTC transaction
that holds this is called an operator transaction.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="54-btc_header-oracle-module">5.4 BTC_Header Oracle Module<a class="hash-link" href="#54-btc_header-oracle-module" title="Direct link to heading">â€‹</a></h3><p>BTC Header Oracle logs the BTC header chain so that within the Babylon
program, we know what the bitcoin chain looks like or how long it is.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="55-vigilante-master-monitor">5.5. Vigilante Master Monitor<a class="hash-link" href="#55-vigilante-master-monitor" title="Direct link to heading">â€‹</a></h3><p><img loading="lazy" src="https://github.com/cahyosubroto/sample-docs/blob/main/image/image6.png?raw=true" alt="Alt text" class="img_ev3q"></p><p>In Vigilante Master Monitor, the BTC light client will act as the master
monitor that will track the correctness of a BTC header oracle because
the Babylon nodes can&#x27;t just directly talk to Bitcoin by themselves. The
difference between a full node and a light client is:</p><ul><li><p><strong>A full node</strong> is a node that stores the entire blockchain,
including the headers and blocks. It embodies all transactions and
executes them.</p></li><li><p><strong>A light client</strong> does not store the block or the transactions, nor
does it execute them. A light client only stores the header. The
header is very small, and even if you have a very long blockchain,
the storage requirement is still quite minimal.</p></li></ul><p><strong>Example:</strong> If a Babylon node A asks its Bitcoin node about block 60,
it may answer yes to A, but if B asks the same from its Bitcoin node, it
might get a negative answer.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-that-so"><strong><em>Why is that so?</em></strong><a class="hash-link" href="#why-is-that-so" title="Direct link to heading">â€‹</a></h4><p>Because they may have different network latencies. One node can be
slower, and the other may be faster. That is why communicating with a
Bitcoin node separately may not give the same answer.</p><p>So that\&#x27;s why we have a BTC header Oracle within the Babylon module to
ensure everyone sees the same Bitcoin chain. This BTC header chain of
information is provided by the reporter, which we don\&#x27;t trust. So we
need a monitoring program to ensure that what the reporter told us about
BTC is the same as the real-world BTC.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="7-the-cost">7. The Cost<a class="hash-link" href="#7-the-cost" title="Direct link to heading">â€‹</a></h2><p>Each checkpoint will cost us about \$2.00 per transaction. No matter how
many customers use Babylon, our cost will always be \$2.00 per transaction.</p><p>When the PoS chains checkpoint to Babylon, they submit a Babylon
transaction to record the hash of the PoS chain block header. So this is
packed into a Babylon transaction and sent to Babylon, but for the
Babylon network to accept this transaction, you need to pay the
transaction fee.</p><p>The POS chains will pay Babylon, not in the form of a contract or
subscription fee. You pay a transaction fee, not a subscription. <strong>For
example,</strong> when you submit a transaction in Polygon, you must pay the
Polygon nodes a transaction fee. Similarly, when you submit a Bitcoin
transaction, you pay Bitcoin miners a transaction fee. So, Babylon will
collect transaction fees for whatever data you checkpoint to it. The
larger the size, the higher the transaction fee.</p><p>Because Babylon is a decentralized system, there is no contract to sign.
There is no company behind Babylon. So our team will maintain the
network, but that doesn\&#x27;t mean we own the network. All the community
members and validators own the network. We can\&#x27;t claim all the benefits
or the income.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#underlying-security-issues-within-proof-of-stake" class="table-of-contents__link toc-highlight">Underlying Security Issues within Proof-of-Stake</a></li><li><a href="#1-direct-checkpointing-limitation" class="table-of-contents__link toc-highlight">1. Direct Checkpointing Limitation</a></li><li><a href="#2-our-solution" class="table-of-contents__link toc-highlight">2. Our Solution</a></li><li><a href="#3-babylon-architecture" class="table-of-contents__link toc-highlight">3. Babylon Architecture</a><ul><li><a href="#31-babylon-bls-signature-algorithm" class="table-of-contents__link toc-highlight">3.1 Babylon BLS Signature Algorithm</a></li><li><a href="#32-quorum-certificates-qc" class="table-of-contents__link toc-highlight">3.2 Quorum Certificates (QC)</a></li><li><a href="#33-babylon-vigilante-roles" class="table-of-contents__link toc-highlight">3.3 Babylon Vigilante Roles</a></li></ul></li><li><a href="#4-key-design-features" class="table-of-contents__link toc-highlight">4. Key Design Features</a><ul><li><a href="#--bls-multisig" class="table-of-contents__link toc-highlight">- BLS multiSig</a></li><li><a href="#--epoched-validator-set-rotation" class="table-of-contents__link toc-highlight">- Epoched validator set rotation</a></li><li><a href="#--on-chain-btc-oracles" class="table-of-contents__link toc-highlight">- On-chain BTC oracles</a></li><li><a href="#--no-change-to-tendermint" class="table-of-contents__link toc-highlight">- No change to Tendermint</a></li></ul></li><li><a href="#5-babylon-bbl-modules" class="table-of-contents__link toc-highlight">5. Babylon (BBL) Modules</a><ul><li><a href="#51-epoching-module" class="table-of-contents__link toc-highlight">5.1 Epoching Module</a></li><li><a href="#52-checkpointing-module" class="table-of-contents__link toc-highlight">5.2 Checkpointing Module</a></li><li><a href="#53-op_return-oracle-module" class="table-of-contents__link toc-highlight">5.3 OP_RETURN Oracle Module</a></li><li><a href="#54-btc_header-oracle-module" class="table-of-contents__link toc-highlight">5.4 BTC_Header Oracle Module</a></li><li><a href="#55-vigilante-master-monitor" class="table-of-contents__link toc-highlight">5.5. Vigilante Master Monitor</a></li></ul></li><li><a href="#7-the-cost" class="table-of-contents__link toc-highlight">7. The Cost</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/sample-docs/">User Guide</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Sample Documentation. Built with Docusaurus.</div></div></div></footer></div>
<script src="/sample-docs/assets/js/runtime~main.a25e38d3.js"></script>
<script src="/sample-docs/assets/js/main.c5aa8257.js"></script>
</body>
</html>